1
00:00:02,000 --> 00:00:04,330
Добро пожаловать
снова в Try SQL.

2
00:00:04,330 --> 00:00:07,380
Давайте продолжим.
Вторая часть второго уровня.

3
00:00:07,380 --> 00:00:11,990
Мы рассмотрим изменение
данных в наших таблицах.

4
00:00:11,990 --> 00:00:12,490
Хорошо.

5
00:00:12,490 --> 00:00:14,640
Мы узнали, как сделать
несколько хороших вещей,

6
00:00:14,640 --> 00:00:17,110
например, выбор
существующих данных

7
00:00:17,110 --> 00:00:19,130
и добавление новых данных
в нашу базу данных.

8
00:00:19,130 --> 00:00:22,890
Но как обновить существующие
данные в нашей базе данных?

9
00:00:22,890 --> 00:00:25,450
Мы хотим использовать SQL
для изменения жанра фильма

10
00:00:25,450 --> 00:00:27,400
«The Circus»
с «comedy» на «romance».

11
00:00:30,040 --> 00:00:31,860
Для изменения информации
о фильме, который уже

12
00:00:31,860 --> 00:00:33,750
существует в базе данных,
мы будем использовать то,

13
00:00:33,750 --> 00:00:35,660
что называется UPDATE запрос.

14
00:00:35,660 --> 00:00:38,900
В рецепте UPDATE у нас
есть ключевое слово UPDATE,

15
00:00:38,900 --> 00:00:41,230
которое позволяет базе данных
узнать, что мы хотим изменить

16
00:00:41,230 --> 00:00:43,230
некоторые данные
в базе данных.

17
00:00:43,230 --> 00:00:45,050
Следующий (пропуск)
будет содержать таблицу,

18
00:00:45,050 --> 00:00:47,510
где мы хотим, чтобы
обновление имело место.

19
00:00:47,510 --> 00:00:51,280
Далее мы видим ключевое
слово SET, которое сообщает

20
00:00:51,280 --> 00:00:53,340
базе данных и колонку,
которую мы хотим обновить

21
00:00:53,340 --> 00:00:56,490
и новое значение данных,
которое мы хотим разместить

22
00:00:56,490 --> 00:00:57,940
в этом столбце после
знака равенства.

23
00:00:57,940 --> 00:01:01,100
Скобки в этом рецепте
указывают, что условие WHERE

24
00:01:01,100 --> 00:01:02,540
здесь необязательно.

25
00:01:02,540 --> 00:01:05,060
Если мы использовали условие
WHERE, мы можем точно

26
00:01:05,060 --> 00:01:07,950
указать строки в столбце
для обновления данных.

27
00:01:07,950 --> 00:01:11,590
Если мы не используем условие
WHERE, то данные в столбце

28
00:01:11,590 --> 00:01:15,170
обновятся сразу для всех строк.

29
00:01:15,170 --> 00:01:17,460
Вернемся к таблице «Movies».
Мы понимаем, что новый фильм

30
00:01:17,460 --> 00:01:21,260
на самом деле не «comedy»,
а «romance».

31
00:01:21,260 --> 00:01:24,440
Теперь мы должны изменить
жанр фильма «The Circus».

32
00:01:24,440 --> 00:01:26,670
Но как мы это делаем?

33
00:01:26,670 --> 00:01:29,820
Давайте используем рецепт UPDATE
для изменения существующей строки.

34
00:01:29,820 --> 00:01:33,130
Во-первых, мы используем
ключевое слово UPDATE

35
00:01:33,130 --> 00:01:35,690
далее таблица «Movies»,
которую мы хотим обновить.

36
00:01:39,310 --> 00:01:41,090
Затем мы задаем genre
равно «romance».

37
00:01:44,970 --> 00:01:48,160
Наконец, и важно, мы
используем условие WHERE

38
00:01:48,160 --> 00:01:50,820
чтобы сообщить, что мы хотим
обновить только тот столбец,

39
00:01:50,820 --> 00:01:54,690
где ID фильма равен 5.

40
00:01:54,690 --> 00:01:57,007
Когда мы запускаем
наш запрос UPDATE,

41
00:01:57,007 --> 00:01:58,840
мы видим, что жанр
фильма «The Circus»

42
00:01:58,840 --> 00:02:01,355
был успешно изменен
с «comedy» на «romance».

43
00:02:03,890 --> 00:02:06,020
Еще одна замечательная вещь
в SQL заключается в том,

44
00:02:06,020 --> 00:02:09,250
что мы можем изменить
несколько столбцов в строке.

45
00:02:09,250 --> 00:02:11,840
Это делается путем добавления
имени каждого столбца

46
00:02:11,840 --> 00:02:14,470
вместе с обновленным значением
и разделения каждого из

47
00:02:14,470 --> 00:02:16,470
этих изменений запятой.

48
00:02:16,470 --> 00:02:19,460
Мы можем изменить жанр «The Circus»
обратно на «comedy» и изменить

49
00:02:19,460 --> 00:02:23,420
продолжительность до 70 -
одним выражением.

50
00:02:23,420 --> 00:02:25,550
Круто, правда?

51
00:02:25,550 --> 00:02:27,340
Это обновление еще лучше.

52
00:02:27,340 --> 00:02:28,440
Проверь.

53
00:02:28,440 --> 00:02:32,170
SQL позволяет вносить изменения
в разные строки одновременно,

54
00:02:32,170 --> 00:02:34,850
если мы добавим оператор OR
в условии WHERE.

55
00:02:34,850 --> 00:02:38,250
Это позволит нам указывать
больше строк для обновления,

56
00:02:38,250 --> 00:02:40,750
чем с помощью только
одного критерия.

57
00:02:40,750 --> 00:02:42,720
Если у вас несколько критериев,

58
00:02:42,720 --> 00:02:44,530
вы можете сгруппировать
несколько операторов OR,

59
00:02:44,530 --> 00:02:46,410
чтобы получить все,
что вам нужно.

60
00:02:46,410 --> 00:02:50,200
UPDATE запросы могут быть
очень мощными и полезными в SQL.

61
00:02:50,200 --> 00:02:51,980
И это все для второй части.

62
00:02:51,980 --> 00:02:53,190
Теперь еще немного упражнений.

63
00:02:53,190 --> 00:02:55,810
И мы увидимся в следующей части.
